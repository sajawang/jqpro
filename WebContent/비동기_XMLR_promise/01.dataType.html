<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="http://localhost/webpro/css/public.css">
<script src="../js/jquery-3.7.1.js"></script>
</head>
<script type="text/javascript">
$(()=>{
	const getData = (url) => {
		
		return new Promise( (resolve,reject	)=>{
			
			const xhr = XMLHttpRequest();
			xhr.open('get',url,true);
			xhr.send();
			
			xhr.onload=()=> resolve(xhr.responseText) //then()함수의 콜백에서 text를 받는다	
			
			xhr.onerror=()=> reject(new Error("오류발생"))
			
		})
		
	}

	$('#jobj').on('click',()=>{
		promi = getData('jobj.jsp')
		promi.then( (res)=>{
			return JSON.parse(res)
		})
		.then((data)=>{
		//data로 출력
		code ="<table>";
		
		code += "<tr><td>이름</td></tr>";
		code += "<td>"+data.name+"</td></tr>";
		
		code += "<tr><td>전화번호</td></tr>";
		code += "<td>"+data.tel+"</td></tr>";
		
		code += "<tr><td>주소</td></tr>";
		code += "<td>"+data.addr+"</td></tr>";
	
		$('#result3').html(code);	
		})
	})
	
	$('#jmix').on('click',()=>{
		
	})
})

</script>
<style type="text/css">
#res{
	display : flex;
	flex-direction : row;
}
.item{
	flex : 25%;
	margin : 3px;
	padding : 2px;
}
</style>
<body>

<div class="box">
  <h3></h3>
  
  <input type="button" value="text" id="text">
   <input type="button" value="jsonarr" id="jarr">
   <input type="button" value="jsonobj" id="jobj">
   <input type="button" value="jsonmix" id="jjmix">
  
  

  
   <input type="button" value="확인" onclick="proc1()">
  <br>
  <br>
  <div id="res">
   <div id="result1" class="itme"></div>
   <div id="result2" class="itme"></div>
   <div id="result3" class="itme"></div>
   <div id="result4" class="itme"></div>
  </div>
</div>
</body>
</html>